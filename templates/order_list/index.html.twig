{% extends 'base.html.twig' %}

{% block title %}Moje narudžbe{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset("css/cart_wish_order_list.css") }}">
    <link rel="stylesheet" href="{{ asset("css/color_circle50.css") }}">
{% endblock %}

{% block body %}
        <div class="container">
            <h2 class="text-center mt-2 bg-light p-2">Moje narudžbe
                <img class="nav_icon mr-1" src="{{ asset('icons/orders.png') }}" alt="icon">
            </h2>
            {% if orderList.orderListItems is not defined or orderList.orderListItems|length == 0 %}
                <h6 class="text-center bg-info p-2 text-white">Još niste naručili ni jedan artikl.</h6>
                <p class="text-center">Nakon uspješne naplate artikala iz košarice, isti se izlistavaju ovdje!</p>
            {% else %}
                <div class="table-responsive">
                    <table class="table table-hover table-warning">
                        <thead>
                        <tr>
                            <th>Slika artikla</th>
                            <th>Naziv artikla</th>
                            <th>Veličina</th>
                            <th>Boja</th>
                            <th>Količina</th>
                            <th>Cijena [kn]</th>
                            <th>Vrijeme izvršenja narudžbe</th>
                            <th>Adresa isporuke</th>
                            <th>Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for orderListItem in orderList.orderListItems %}
                            <tr>
                                <td>
                                    <img class="item_img"
                                         src="{{ asset('uploads/')~orderListItem.item.images[0].path }}"
                                         alt="image_{{ orderListItem.item.images[0].id }}">
                                </td>
                                <td>{{ orderListItem.item.title }}</td>
                                <td>{{ orderListItem.size.value }}</td>
                                <td>
                                    <div class="circle_wrapper">
                                        <div class="circle" style="background-color: {{ orderListItem.color.value }}"></div>
                                    </div>
                                </td>
                                <td>{{ orderListItem.quantity }}</td>
                                <td>{{ (orderListItem.item.price * orderListItem.quantity)|number_format(2, '.', ',') }}</td>
                                <td>{{ orderListItem.createdAt|date('H:i:s | d.m.Y.')}}</td>
                                <td>{{ orderListItem.deliveryAddress.street }}, {{ orderListItem.deliveryAddress.postalCode }} {{ orderListItem.deliveryAddress.city }}</td>
                                <td>{{ orderListItem.status }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% endif %}
        </div>
{% endblock %}
